{"ast":null,"code":"import _regeneratorRuntime from\"/run/media/akashdixit/da4f7a38-c357-4ae4-9779-5a38c1782e06/Astra/Code_Dode/React Projects/github-finder-using-function/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/run/media/akashdixit/da4f7a38-c357-4ae4-9779-5a38c1782e06/Astra/Code_Dode/React Projects/github-finder-using-function/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/run/media/akashdixit/da4f7a38-c357-4ae4-9779-5a38c1782e06/Astra/Code_Dode/React Projects/github-finder-using-function/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useReducer}from'react';import axios from'axios';import GithubContext from'./githubContext';import GithubReducer from'./githubReducer';import{SEARCH_USERS,SET_LOADING,CLEAR_USERS,GET_USERS,GET_REPOS}from'../../components/types';import{jsx as _jsx}from\"react/jsx-runtime\";var githubClientId;var githubClientSecret;if(process.env.NODE_ENV!=='production'){githubClientId=process.env.REACT_APP_GITHUB_CLIENT_SECRET;githubClientSecret=process.env.REACT_APP_GITHUB_CLIENT_SECRET;}else{githubClientId=process.env.GITHUB_CLIENT_SECRET;githubClientSecret=process.env.GITHUB_CLIENT_SECRET;}var GithubState=function GithubState(props){var initialState={users:[],user:{},repos:[],loading:false};var _useReducer=useReducer(GithubReducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];//Search Users\nvar searchUsers=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(text){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading();_context.next=3;return axios.get(\"https://api.github.com/search/users?q=\".concat(text,\"&client_id=\").concat(githubClientId,\"&client_secret=\").concat(githubClientSecret));case 3:res=_context.sent;dispatch({type:SEARCH_USERS,payload:res.data.items});case 5:case\"end\":return _context.stop();}}},_callee);}));return function searchUsers(_x){return _ref.apply(this,arguments);};}();//Get User\nvar getUser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(username){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setLoading();_context2.next=3;return axios.get(\"https://api.github.com/users/\".concat(username,\"?client_id=\").concat(process.env.REACT_APP_GITHUB_CLIENT_ID,\"&client_secret=\").concat(process.env.REACT_APP_GITHUB_CLIENT_SECRET));case 3:res=_context2.sent;dispatch({type:GET_USERS,payload:res.data});case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function getUser(_x2){return _ref2.apply(this,arguments);};}();//Clear User\nvar clearUsers=function clearUsers(){return dispatch({type:CLEAR_USERS});};//Get Repos\nvar getUserRepos=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(username){var res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:setLoading();_context3.next=3;return axios.get(\"https://api.github.com/users/\".concat(username,\"/repos?per_page=5&sort=created:asc&client_id=\").concat(githubClientId,\"&client_secret=\").concat(githubClientSecret));case 3:res=_context3.sent;dispatch({type:GET_REPOS,payload:res.data});case 5:case\"end\":return _context3.stop();}}},_callee3);}));return function getUserRepos(_x3){return _ref3.apply(this,arguments);};}();//Set Loading\nvar setLoading=function setLoading(){return dispatch({type:SET_LOADING});};return/*#__PURE__*/_jsx(GithubContext.Provider,{value:{users:state.users,user:state.user,repos:state.repos,loading:state.loading,searchUsers:searchUsers,clearUsers:clearUsers,getUser:getUser,getUserRepos:getUserRepos},children:props.children});};export default GithubState;","map":{"version":3,"sources":["/run/media/akashdixit/da4f7a38-c357-4ae4-9779-5a38c1782e06/Astra/Code_Dode/React Projects/github-finder-using-function/src/context/github/GithubState.js"],"names":["React","useReducer","axios","GithubContext","GithubReducer","SEARCH_USERS","SET_LOADING","CLEAR_USERS","GET_USERS","GET_REPOS","githubClientId","githubClientSecret","process","env","NODE_ENV","REACT_APP_GITHUB_CLIENT_SECRET","GITHUB_CLIENT_SECRET","GithubState","props","initialState","users","user","repos","loading","state","dispatch","searchUsers","text","setLoading","get","res","type","payload","data","items","getUser","username","REACT_APP_GITHUB_CLIENT_ID","clearUsers","getUserRepos","children"],"mappings":"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","sourcesContent":["import React, { useReducer } from 'react';\nimport axios from 'axios';\nimport GithubContext from './githubContext';\nimport GithubReducer from './githubReducer';\n\nimport {\n    SEARCH_USERS,\n    SET_LOADING,\n    CLEAR_USERS,\n    GET_USERS,\n    GET_REPOS\n} from '../../components/types';\n\nlet githubClientId;\nlet githubClientSecret;\n\nif (process.env.NODE_ENV !== 'production') {\n    githubClientId = process.env.REACT_APP_GITHUB_CLIENT_SECRET;\n    githubClientSecret = process.env.REACT_APP_GITHUB_CLIENT_SECRET;\n} else {\n    githubClientId = process.env.GITHUB_CLIENT_SECRET;\n    githubClientSecret = process.env.GITHUB_CLIENT_SECRET;    \n}\n\nconst GithubState = (props) => {\n    const initialState = {\n        users: [],\n        user: {},\n        repos: [],\n        loading: false\n    }\n\n    const [state, dispatch] = useReducer(GithubReducer, initialState);\n\n    //Search Users\n    const searchUsers = async (text) => {\n \n        setLoading()\n        const res = await axios.get(`https://api.github.com/search/users?q=${text}&client_id=${githubClientId}&client_secret=${githubClientSecret}`);\n        \n        dispatch({\n            type: SEARCH_USERS,\n            payload: res.data.items\n        })\n    }\n\n\n    //Get User\n    const getUser = async (username) => {\n        setLoading()\n        const res = await axios.get(`https://api.github.com/users/${username}?client_id=${process.env.REACT_APP_GITHUB_CLIENT_ID}&client_secret=${process.env.REACT_APP_GITHUB_CLIENT_SECRET}`);\n        \n        dispatch({\n            type: GET_USERS,\n            payload: res.data\n        })\n      }\n\n    //Clear User\n    const clearUsers = () => \n        dispatch(\n       { type: CLEAR_USERS,}\n        )\n\n    //Get Repos\n    const getUserRepos = async (username) => {\n        setLoading();\n        const res = await axios.get(`https://api.github.com/users/${username}/repos?per_page=5&sort=created:asc&client_id=${githubClientId}&client_secret=${githubClientSecret}`);\n        \n        dispatch({\n            type: GET_REPOS,\n            payload: res.data\n        })\n      }\n\n    //Set Loading\n    const setLoading = () => dispatch({type: SET_LOADING});\n\n\n    return <GithubContext.Provider value= {{\n        users : state.users,\n        user : state.user,\n        repos : state.repos,\n        loading : state.loading,\n        searchUsers,\n        clearUsers,\n        getUser,\n        getUserRepos\n    }}>\n\n        {props.children}\n\n    </GithubContext.Provider>\n}\n\nexport default GithubState;"]},"metadata":{},"sourceType":"module"}